<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generic Website</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <style>
        :root {
            --bg: #ffffff;
            --text: #000000;
            --secondary: #666666;
            --border: #eeeeee;
            --accent: #0070f3;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* 1. Reset & Metadata Style */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            overflow-x: hidden;
            height: 100vh;
        }

        /* Low Graphics Mode Class */
        .low-graphics * {
            border-radius: 0 !important;
            image-rendering: pixelated;
            font-family: monospace !important;
            box-shadow: none !important;
        }

        /* 2. Navigation Bar (Glassmorphism) */
        nav {
            position: fixed;
            top: 0; width: 100%; z-index: 1000;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem 5%;
        }
        .logo { font-size: 1.1rem; font-weight: 700; text-transform: uppercase; cursor: pointer; }
        
        /* Command Bar Trigger */
        .cmd-trigger { 
            color: var(--accent); font-weight: 600; cursor: pointer; transition: var(--transition); 
        }
        .cmd-trigger:hover { letter-spacing: 1px; }

        /* 3. Layout Elements */
        header { padding: 15vh 5% 5vh; }
        .tag { font-size: 0.8rem; font-weight: 600; color: var(--secondary); text-transform: uppercase; }
        h1 { font-size: clamp(3rem, 10vw, 6rem); font-weight: 800; letter-spacing: -3px; line-height: 0.9; }
        
        .section { padding: 2rem 5%; display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .content-box { 
            padding: 2rem; border: 1px solid var(--border); border-radius: 4px; 
            background: white; transition: var(--transition); 
        }
        .content-box:hover { transform: translateY(-5px); border-color: var(--text); }

        /* 4. Command Bar (Bottom Slide-in) */
        #commandBar {
            position: fixed; bottom: -100px; left: 0; width: 100%;
            height: 80px; background: white; border-top: 1px solid var(--text);
            display: flex; align-items: center; padding: 0 5%;
            transition: bottom 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            z-index: 2000;
        }
        #commandBar.active { bottom: 0; }

        #cmdInput {
            width: 100%; padding: 10px; border: 1px solid var(--border);
            font-family: inherit; font-size: 1rem; outline: none;
        }

        /* Suggestions Box */
        #cmdSuggestions {
            position: absolute; bottom: 90px; left: 5%; width: 300px;
            background: white; border: 1px solid var(--text);
            display: none; flex-direction: column;
        }
        .suggestion { padding: 10px; cursor: pointer; border-bottom: 1px solid var(--border); }
        .suggestion:hover { background: var(--gray); font-weight: bold; }

        /* Canvas for Physics */
        #physics-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 50;
        }
        .physics-element { position: absolute; pointer-events: auto; }
    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="location.reload()">Generic Website</div>
        <div class="cmd-trigger" onclick="toggleCmdBar()">Generic Command Bar</div>
    </nav>

    <div id="main-content">
        <header class="physics-element">
            <span class="tag">Standard Header Component</span>
            <h1>This is a very <br>large heading.</h1>
        </header>

        <div class="section">
            <div class="content-box physics-element"><h3>Standard Box A</h3><p>Generic feature content.</p></div>
            <div class="content-box physics-element"><h3>Standard Box B</h3><p>Generic feature content.</p></div>
        </div>
    </div>

    <div id="commandBar">
        <div id="cmdSuggestions">
            <div class="suggestion" onclick="runCmd('/physics')">/physics (Enable Gravity)</div>
            <div class="suggestion" onclick="runCmd('/ZeroG')">/ZeroG (Toggle Float)</div>
            <div class="suggestion" onclick="runCmd('/LowGraphic')">/LowGraphic (Pixelate)</div>
            <div class="suggestion" onclick="runCmd('/Meteor')">/Meteor (Chaos)</div>
        </div>
        <input type="text" id="cmdInput" placeholder="type here..." onfocus="showSuggest()" onblur="hideSuggest()">
    </div>

    <div id="physics-container"></div>

    <script>
        // --- 1. COMMAND BAR LOGIC ---
        function toggleCmdBar() {
            const bar = document.getElementById('commandBar');
            bar.classList.toggle('active');
        }

        function showSuggest() { document.getElementById('cmdSuggestions').style.display = 'flex'; }
        function hideSuggest() { setTimeout(() => { document.getElementById('cmdSuggestions').style.display = 'none'; }, 200); }

        // --- 2. PHYSICS ENGINE SETUP ---
        const { Engine, Render, Runner, World, Bodies, Mouse, MouseConstraint, Composite } = Matter;
        let engine, render, runner;
        let isPhysicsEnabled = false;
        let isZeroG = false;

        function initPhysics() {
            if (engine) return;
            engine = Engine.create();
            const container = document.getElementById('physics-container');
            
            // Create Ground
            const ground = Bodies.rectangle(window.innerWidth/2, window.innerHeight + 50, window.innerWidth, 100, { isStatic: true });
            World.add(engine.world, [ground]);

            // Convert HTML elements to Physics objects
            const elements = document.querySelectorAll('.physics-element');
            elements.forEach(el => {
                const rect = el.getBoundingClientRect();
                const body = Bodies.rectangle(rect.left + rect.width/2, rect.top + rect.height/2, rect.width, rect.height, {
                    restitution: 0.5, friction: 0.5
                });
                body.element = el;
                World.add(engine.world, body);
                
                // Set absolute positioning for physics
                el.style.position = 'fixed';
                el.style.width = rect.width + 'px';
                el.style.margin = '0';
            });

            // Add Mouse Control (Drag and Throw)
            const mouse = Mouse.create(container);
            const mouseConstraint = MouseConstraint.create(engine, {
                mouse: mouse,
                constraint: { stiffness: 0.2, render: { visible: false } }
            });
            World.add(engine.world, mouseConstraint);

            // Update Loop
            (function update() {
                elements.forEach((el, i) => {
                    const body = engine.world.bodies.find(b => b.element === el);
                    if (body) {
                        el.style.transform = `translate(${body.position.x - body.positionPrev.x}px, ${body.position.y - body.positionPrev.y}px) rotate(${body.angle}rad)`;
                        el.style.left = (body.position.x - el.offsetWidth/2) + 'px';
                        el.style.top = (body.position.y - el.offsetHeight/2) + 'px';
                    }
                });
                Engine.update(engine);
                requestAnimationFrame(update);
            })();
        }

        // --- 3. COMMANDS ---
        function runCmd(cmd) {
            if (cmd === '/physics') {
                initPhysics();
                engine.world.gravity.y = 1;
            }
            if (cmd === '/ZeroG') {
                initPhysics();
                isZeroG = !isZeroG;
                engine.world.gravity.y = isZeroG ? 0 : 1;
            }
            if (cmd === '/LowGraphic') {
                document.body.classList.toggle('low-graphics');
            }
            if (cmd === '/Meteor') {
                initPhysics();
                const meteor = Bodies.circle(Math.random() * window.innerWidth, -100, 50, { density: 0.1 });
                World.add(engine.world, meteor);
                Matter.Body.setVelocity(meteor, {x: (Math.random() - 0.5) * 20, y: 15});
            }
        }
    </script>
</body>
</html>
